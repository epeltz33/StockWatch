{% extends "base.html" %}

{% block title %}Dashboard - StockWatch{% endblock %}

{% block content %}
<div class="container mt-4">
  <h1 class="mb-4">Welcome to Your StockWatch Dashboard, {{user.username}}</h1>

  <div class="row">
    <div class="col-md-12">
      <!-- This is where the Dash app will be rendered -->
      <div id="dash-container">
        <iframe src="{{ dash_url }}" width="100%" height="800px"></iframe>
      </div>
    </div>
  </div>

  <div class="row mt-4">
    <div class="col-md-4">
      <div class="card mb-4">
        <div class="card-header">
          Quick Actions
        </div>
        <div class="card-body">
          <a href="{{ url_for('auth.logout') }}" class="btn btn-danger btn-block">Logout</a>
        </div>
      </div>
      <div class="card">
        <div class="card-header">
          Recent Activity
        </div>
        <div class="card-body">
          <!-- This will be populated with real data in the future -->
          <p>Your recent activity will be shown here.</p>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ dash_url }}dash-renderer"></script>
<script id="_dash-config" type="application/json">
  {
    "url_base_pathname": "{{ dash_url }}"
  }
</script>
{% endblock %}